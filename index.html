<!DOCTYPE html>
<html>
<head>
	<title>Storyteller Tools by Envy</title>
	<style>
		body {
		  font-family: Papyrus, fantasy;
		  font-size: 50px; /* 增加字體大小 */
		  background-color: #222222; /* 背景顏色設置 */
		  color: #FFFFFF; /* 字體顏色設置 */
		  text-align: center; /* 將網頁上的所有元素置中 */
		}

		input {
		  width: 180px; /* 增加輸入框大小 */
		  text-align: center;
		  font-size: 50px; /* 增加輸入框字體大小 */
		}

		button {
		  margin: 10px;
		  padding: 20px 40px; /* 增加按鈕的上下和左右填充 */
		  font-family: Papyrus, fantasy;
		  font-size: 30px; /* 增加按鈕字體大小 */
		  background-color: #00AA00;
		  color: white;
		  border: none;
		  border-radius: 5px;
		  cursor: pointer;
		}
		
		div {
 		  margin-bottom: 50px; /* 將 div 元素之間的間距增加為 20 像素 */
		}

		input[type="range"] {
		  width: 80%;
		  height: 10px;
		  background-color: #FFFFFF;
		  border-radius: 5px;
		  outline: none;
		  margin-bottom: 10px;
		}

		input[type="range"]::-webkit-slider-thumb {
		  width: 50px;
		  height: 50px;
		  background-color: #00AA00;
		  border-radius: 50%;
		  cursor: pointer;
		}

	</style>
</head>
<body>
	<h2>Storyteller Tools</h2>
	<h3>Players Chat Phase Timer</h3>
	<div>
		<label for="minutes">Min：</label>
		<input type="number" id="minutes" min="0" max="60" value="0">
		<label for="seconds">Sec：</label>
		<input type="number" id="seconds" min="0" max="60" value="0">
	</div>
	<div>
		<button id="start">Start</button>
		<button id="pause">Pause</button>
		<button id="reset">Reset</button>
	</div>
	<h3>BGM and Sound Effect</h3>
	<div>
		<button id="play1">Play Nighttime BGM</button>
		<button id="play2">Play Daytime BGM</button>
		<button id="play3">Play Clocktower Bell</button>
		<button id="stop">Stop Playing</button>
		<!-- <input type="range" id="volume" min="0" max="1" value="1" step="0.01"> -->
	<h5>Powered by Envy the Storyteller</h5>
	</div>
	<audio id="audio1" src="night.mp3"></audio>
	<audio id="audio2" src="day.mp3"></audio>
	<audio id="audio3" src="clockbell.mp3"></audio>
	<script>
		// 倒計時器部分的代碼
		var minutesInput = document.getElementById("minutes");
		var secondsInput = document.getElementById("seconds");
		var startButton = document.getElementById("start");
		var pauseButton = document.getElementById("pause");
		var resetButton = document.getElementById("reset");
		var timeLeft = 0;
		var timerId = null;

		function startTimer() {
			if (timerId != null) {
				return;
			}

			timeLeft = parseInt(minutesInput.value) * 60 + parseInt(secondsInput.value);
			timerId = setInterval(function() {
				timeLeft--;
				var minutes = Math.floor(timeLeft / 60);
				var seconds = timeLeft % 60;
				minutesInput.value = minutes;
				secondsInput.value = seconds;

				if (timeLeft == 0) {
					clearInterval(timerId);
					timerId = null;
					alert("倒計時結束！");
				}
			}, 1000);
		}

		function pauseTimer() {
			if (timerId != null) {
				clearInterval(timerId);
				timerId = null;
			}
		}

		function resetTimer() {
			pauseTimer();
			minutesInput.value = 0;
			secondsInput.value = 0;
		}

		startButton.addEventListener("click", startTimer);
		pauseButton.addEventListener("click", pauseTimer);
		resetButton.addEventListener("click", resetTimer);

		// 音頻播放器部分的代碼
		var volumeSlider = document.getElementById("volume");
		var audio1 = document.getElementById("audio1");
		var audio2 = document.getElementById("audio2");
		var audio3 = document.getElementById("audio3");
		var play1Button = document.getElementById("play1");
		var play2Button = document.getElementById("play2");
		var play3Button = document.getElementById("play3");
		var stopButton = document.getElementById("stop");
		var currentAudio = null;

		function playAudio(audio) {
			if (currentAudio != null && currentAudio != audio) {
				currentAudio.pause();
				currentAudio.currentTime = 0;
			}

			audio.play();
			currentAudio = audio;
		}

		function stopAudio() {
			if (currentAudio != null) {
				currentAudio.pause();
				currentAudio.currentTime = 0;
				currentAudio = null;
			}
		}

		play1Button.addEventListener("click", function() {
			playAudio(audio1);
		});

		play2Button.addEventListener("click", function() {
			playAudio(audio2);
		});

		play3Button.addEventListener("click", function() {
			playAudio(audio3);
		});

		stopButton.addEventListener("click", stopAudio);

		audio1.addEventListener("ended", function() {
			audio1.currentTime = 0;
			audio1.play();
		});

		audio2.addEventListener("ended", function() {
			audio2.currentTime = 0;
			audio2.play();
		});

		audio3.addEventListener("ended", function() {
			audio3.currentTime = 0;
			audio3.play();
		});

		volumeSlider.addEventListener("input", function() {
		     audio1.volume = volumeSlider.value;
		     audio2.volume = volumeSlider.value;
		     audio3.volume = volumeSlider.value;
		});
	</script>
</body>
</html>
